<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FoodApp</title>
    
    <!-- Include Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Lobster&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

    <!-- Basic CSS styles -->
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body, html {
            height: 100%;
            font-family: 'Poppins', sans-serif;
            background-color: #00cec8; /* Set entire main page background color */
            color: white;
        }

        /* Splash Screen Styles */
        #splash-screen {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            background: linear-gradient(to bottom right, #1e3c72, #2a5298, #9c1de7);
            flex-direction: column;
            color: white;
        }

        #splash-screen h1 {
            font-family: 'Lobster', cursive;
            font-size: 48px;
        }

        #splash-screen img {
            width: 100px;
            height: 100px;
            margin-bottom: 20px;
        }

        /* Main App Styles */
        .container {
            display: none; /* Initially hidden */
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
        }

        h1 {
            text-align: center;
            font-family: 'Lobster', cursive;
            font-size: 36px;
            margin-bottom: 20px;
        }

        h2 {
            text-align: center;
            font-family: 'Poppins', sans-serif;
            color: white;
            font-weight: 600;
        }

        /* Location Styling */
        #location {
            text-align: center;
            font-size: 18px;
            background-color: white; /* Changed to white background */
            color: #00cec8;
            padding: 10px;
            border-radius: 50px; /* Maximum border radius */
            border: 1px solid grey;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
        }

        #location img {
            width: 30px;
            height: 20px;
            border-radius: 3px; /* Small radius for flag */
        }

        ul {
            list-style: none;
            padding: 0;
            margin: 20px 0;
        }

        li {
            margin: 10px 0;
            padding: 10px;
            background: white;
            border-radius: 3px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: grey;
        }

        li img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            margin-left: 15px; /* Move the image to the right */
        }

        #recipe-details {
            margin-top: 20px;
            padding: 10px;
            background: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 3px;
            color: grey;
        }
    </style>
</head>
<body>

    <!-- Splash Screen -->
    <div id="splash-screen">
        <img src="https://www.reshot.com/preview-assets/icons/DUYKGBF2XM/hot-food-DUYKGBF2XM.svg" alt="Food Logo"> <!-- Replace with actual food logo -->
        <h1>FoodApp</h1>
    </div>

    <!-- Main Content -->
    <div class="container">
        <h1>FoodApp</h1> <!-- FoodApp title added to main screen -->
        <h2>Your Recipes</h2>
        <p id="location">
            <img id="flag" src="" alt="Country Flag"> <!-- Placeholder for flag -->
            Fetching location...
        </p>
        <ul id="recipe-list"></ul>
        <div id="recipe-details"></div>
    </div>

    <script>
        // Simulate Splash Screen Delay
        setTimeout(() => {
            document.getElementById('splash-screen').style.display = 'none';
            document.querySelector('.container').style.display = 'block';
        }, 2000); // Show splash for 2 seconds

        // Get user's current geolocation and fetch country name and flag
        navigator.geolocation.getCurrentPosition(function(position) {
            let latitude = position.coords.latitude;
            let longitude = position.coords.longitude;

            // Replace latitude/longitude with a country fetching API
            fetch(`https://geocode.xyz/${latitude},${longitude}?geoit=json`)
                .then(response => response.json())
                .then(data => {
                    document.getElementById('location').textContent = `You are in ${data.country}`;
                    document.getElementById('flag').src = `https://countryflagsapi.com/png/${data.countrycode.toLowerCase()}`; // Fetch flag
                })
                .catch(error => {
                    document.getElementById('location').textContent = 'Unable to fetch location';
                });

            // Fetch recipes (mock data)
            fetchRecipes();
        });

        // Function to simulate recipe fetching
        function fetchRecipes() {
            const mockData = {
                results: [
                    { id: 1, title: 'Spaghetti Carbonara', imgSrc: 'https://via.placeholder.com/50' },
                    { id: 2, title: 'Caprese Salad', imgSrc: 'https://via.placeholder.com/50' },
                    { id: 3, title: 'Chicken Tikka Masala', imgSrc: 'https://via.placeholder.com/50' }
                ]
            };

            const recipeList = document.getElementById('recipe-list');
            recipeList.innerHTML = ''; // Clear previous recipes

            if (mockData.results.length > 0) {
                mockData.results.forEach(recipe => {
                    const listItem = document.createElement('li');
                    listItem.textContent = recipe.title;
                    const img = document.createElement('img');
                    img.src = recipe.imgSrc;
                    listItem.appendChild(img); // Append image to the right
                    listItem.onclick = () => fetchRecipeDetails(recipe.id); // Click to fetch details
                    recipeList.appendChild(listItem);
                });
            } else {
                recipeList.innerHTML = '<li>No recipes found.</li>';
            }
        }

        // Function to display detailed recipe information
        function fetchRecipeDetails(recipeId) {
            const mockData = {
                1: {
                    id: 1,
                    title: 'Spaghetti Carbonara',
                    ingredients: ['spaghetti', 'egg', 'Parmesan cheese', 'pancetta', 'black pepper'],
                    instructions: 'Cook spaghetti. Fry pancetta. Mix with eggs and cheese.'
                },
                2: {
                    id: 2,
                    title: 'Caprese Salad',
                    ingredients: ['mozzarella cheese', 'tomatoes', 'fresh basil', 'olive oil', 'balsamic vinegar'],
                    instructions: 'Layer mozzarella, tomatoes, and basil. Drizzle with olive oil and balsamic vinegar.'
                },
                3: {
                    id: 3,
                    title: 'Chicken Tikka Masala',
                    ingredients: ['chicken', 'yogurt', 'garam masala', 'tomato sauce', 'cream'],
                    instructions: 'Marinate chicken, then cook with spices and sauce.'
                }
            };

            const recipe = mockData[recipeId];
            const detailsSection = document.getElementById('recipe-details');
            detailsSection.innerHTML = `
                <h3>${recipe.title}</h3>
                <h4>Ingredients:</h4>
                <ul>
                    ${recipe.ingredients.map(ingredient => `<li>${ingredient}</li>`).join('')}
                </ul>
                <h4>Instructions:</h4>
                <p>${recipe.instructions}</p>
            `;
        }
    </script>
</body>
</html>
